<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <meta name="theme-color" content="#0b4d3b" />
  <title>Premium — Shop</title>

  <!-- Early age gate hide -->
  <script>
    (function () {
      try {
        if (localStorage.getItem("premium_age_ok") === "1") {
          document.documentElement.classList.add("age-ok");
        }
      } catch (e) {}
    })();
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- subtle sky -->
  <canvas id="sky" aria-hidden="true"></canvas>

  <!-- AGE GATE -->
  <div class="age-gate" id="ageGate" role="dialog" aria-modal="true" aria-labelledby="ageTitle">
    <div class="age-card">
      <div class="age-top">
        <div class="wordmark">
          <span class="wordmark__name">Premium</span>
          <span class="wordmark__tag" data-i18n="brandTag">Boutique premium</span>
        </div>

        <div class="lang-switch" role="group" aria-label="Language">
          <button class="lang-btn" type="button" data-set-lang="fr" aria-pressed="false">FR</button>
          <button class="lang-btn" type="button" data-set-lang="en" aria-pressed="false">EN</button>
        </div>
      </div>

      <h1 id="ageTitle" class="age-title" data-i18n="ageTitle">Vérification d’âge</h1>
      <p class="age-body" data-i18n="ageBody">
        Vous devez avoir l’âge légal dans votre région pour entrer sur ce site.
      </p>

      <div class="age-actions">
        <button id="ageEnter" class="btn btn--primary" type="button" data-i18n="ageEnter">Entrer</button>
        <button id="ageLeave" class="btn btn--ghost" type="button" data-i18n="ageLeave">Quitter</button>
      </div>

      <p class="age-note" data-i18n="ageNote">
        En cliquant sur « Entrer », vous confirmez respecter l’âge légal requis dans votre région.
      </p>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="app">
    <!-- Top promo bar (Sale very visible) -->
    <div class="topbar">
      <div class="container topbar__inner">
        <div class="topbar__left">
          <span class="pill pill--sale" data-i18n="promoPill">SALE</span>
          <span class="topbar__msg" data-i18n="promoMsg">Promos limitées • Livraison / Pickup • Support rapide</span>
        </div>

        <div class="topbar__right">
          <a class="topbar__link" href="pages/how-to-order.html" data-i18n="howToOrder">How to order</a>
          <a class="topbar__link" href="pages/policies.html" data-i18n="policies">Policies</a>
        </div>
      </div>
    </div>

    <header class="header">
      <div class="container header__inner">
        <a class="brand" href="#shop" data-nav="shop" aria-label="Premium home">
          <span class="brand__name">Premium</span>
          <span class="brand__tag" data-i18n="brandTag">Boutique premium</span>
        </a>

        <nav class="nav" aria-label="Primary navigation">
          <a href="#shop" data-nav="shop" data-i18n="navShop">Boutique</a>
          <a href="#sale" data-scroll="saleSection" data-i18n="navSale">Promos</a>
          <a href="#categories" data-scroll="catSection" data-i18n="navCategories">Catégories</a>
          <a href="#checkout" data-nav="checkout" data-i18n="navCheckout">Paiement</a>
        </nav>

        <div class="header__actions">
          <div class="lang-switch" role="group" aria-label="Language">
            <button class="lang-btn" type="button" data-set-lang="fr" aria-pressed="false">FR</button>
            <button class="lang-btn" type="button" data-set-lang="en" aria-pressed="false">EN</button>
          </div>

          <button id="cartButton" class="cart-btn" type="button" aria-haspopup="dialog">
            <span data-i18n="cart">Panier</span>
            <span class="cart-badge" id="cartCount">0</span>
          </button>
        </div>
      </div>
    </header>

    <main class="main" id="main">
      <!-- VIEW: SHOP -->
      <section class="view" data-view="shop">
        <section class="hero">
          <div class="container hero__inner">
            <div class="hero__copy">
              <p class="eyebrow" data-i18n="heroEyebrow">LUXE • SIMPLE • RAPIDE</p>
              <h1 class="hero__title" data-i18n="heroHeadline">Une expérience d’achat premium</h1>
              <p class="hero__sub" data-i18n="heroSub">
                Interface beige clean + accent vert luxe. Signature cosmique discrète: planète animée & étoiles soft.
              </p>

              <div class="hero__cta">
                <button class="btn btn--primary" type="button" data-scroll="shopSection" data-i18n="heroCta">Voir les produits</button>
                <button class="btn btn--ghost" type="button" data-nav="checkout" data-i18n="heroCta2">Aller au paiement</button>
              </div>

              <div class="hero__trust">
                <div class="trust"><span class="trust__k" data-i18n="trust1k">Rapide</span><span class="trust__v" data-i18n="trust1v">UI mobile</span></div>
                <div class="trust"><span class="trust__k" data-i18n="trust2k">Clair</span><span class="trust__v" data-i18n="trust2v">Checkout prêt</span></div>
                <div class="trust"><span class="trust__k" data-i18n="trust3k">Promo</span><span class="trust__v" data-i18n="trust3v">Sale très visible</span></div>
              </div>
            </div>

            <!-- Animated planet signature -->
            <div class="hero__visual" aria-hidden="true">
              <div class="planet-scene">
                <div class="ring ring--back"></div>
                <div class="planet"></div>
                <div class="ring ring--front"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- SALE SECTION -->
        <section class="section" id="saleSection">
          <div class="container">
            <div class="section-head">
              <h2 data-i18n="saleTitle">Promos / Sale</h2>
              <p class="muted" data-i18n="saleSub">Tri auto: promos en premier, badges visibles, prix barrés.</p>
            </div>

            <div class="sale-strip">
              <div class="sale-chip"><span class="pill pill--sale">SALE</span> <span data-i18n="saleChip1">Jusqu’à -40%</span></div>
              <div class="sale-chip"><span class="pill pill--sale">DEAL</span> <span data-i18n="saleChip2">Bundles & offres</span></div>
              <div class="sale-chip"><span class="pill pill--sale">FAST</span> <span data-i18n="saleChip3">Checkout en 1 page</span></div>
            </div>

            <div id="saleGrid" class="product-grid" aria-live="polite"></div>
          </div>
        </section>

        <!-- CATEGORIES (6) -->
        <section class="section section--alt" id="catSection">
          <div class="container">
            <div class="section-head">
              <h2 data-i18n="catTitle">Catégories</h2>
              <p class="muted" data-i18n="catSub">6 catégories comme un vrai shop. Tu peux renommer.</p>
            </div>

            <div id="catGrid" class="cat-grid" aria-live="polite"></div>
          </div>
        </section>

        <!-- SHOP (filters like a real store) -->
        <section class="section" id="shopSection">
          <div class="container">
            <div class="section-head">
              <h2 data-i18n="shopTitle">Boutique</h2>
              <p class="muted" data-i18n="shopSub">Recherche + catégorie + tri. Ajoute au panier.</p>
            </div>

            <div class="filters">
              <div class="field">
                <label class="label" for="searchInput" data-i18n="searchLabel">Recherche</label>
                <input id="searchInput" class="input" type="search"
                       data-i18n-placeholder="searchPlaceholder"
                       placeholder="Rechercher..." autocomplete="off" />
              </div>

              <div class="field">
                <label class="label" for="categorySelect" data-i18n="categoryLabel">Catégorie</label>
                <select id="categorySelect" class="input"></select>
              </div>

              <div class="field">
                <label class="label" for="sortSelect" data-i18n="sortLabel">Trier</label>
                <select id="sortSelect" class="input"></select>
              </div>

              <button id="clearFilters" class="btn btn--ghost btn--small" type="button" data-i18n="clearFilters">Réinitialiser</button>
            </div>

            <div id="productGrid" class="product-grid" aria-live="polite"></div>

            <div class="fineprint" data-i18n="fineprint">
              Démo statique: panier + checkout complet. Paiement réel = connecter un provider (Shopify/Stripe/etc.).
            </div>
          </div>
        </section>
      </section>

      <!-- VIEW: CHECKOUT -->
      <section class="view" data-view="checkout" hidden>
        <div class="container checkout">
          <div class="section-head">
            <h2 data-i18n="checkoutTitle">Paiement</h2>
            <p class="muted" data-i18n="checkoutSub">Avant achat: directives obligatoires + confirmation.</p>
          </div>

          <div class="checkout__grid">
            <form id="checkoutForm" class="panel" novalidate>
              <h3 class="panel__title" data-i18n="contactTitle">Contact</h3>

              <div class="grid2">
                <div class="field">
                  <label class="label" for="email" data-i18n="emailLabel">Email</label>
                  <input class="input" id="email" name="email" type="email" autocomplete="email" required />
                </div>

                <div class="field">
                  <label class="label" for="phone" data-i18n="phoneLabel">Téléphone</label>
                  <input class="input" id="phone" name="phone" type="tel" autocomplete="tel" />
                </div>
              </div>

              <h3 class="panel__title" data-i18n="shippingTitle">Adresse</h3>

              <div class="grid2">
                <div class="field">
                  <label class="label" for="firstName" data-i18n="firstNameLabel">Prénom</label>
                  <input class="input" id="firstName" name="firstName" autocomplete="given-name" required />
                </div>

                <div class="field">
                  <label class="label" for="lastName" data-i18n="lastNameLabel">Nom</label>
                  <input class="input" id="lastName" name="lastName" autocomplete="family-name" required />
                </div>
              </div>

              <div class="field">
                <label class="label" for="address" data-i18n="addressLabel">Adresse</label>
                <input class="input" id="address" name="address" autocomplete="street-address" required />
              </div>

              <div class="grid3">
                <div class="field">
                  <label class="label" for="city" data-i18n="cityLabel">Ville</label>
                  <input class="input" id="city" name="city" autocomplete="address-level2" required />
                </div>

                <div class="field">
                  <label class="label" for="region" data-i18n="regionLabel">Province/État</label>
                  <input class="input" id="region" name="region" autocomplete="address-level1" required />
                </div>

                <div class="field">
                  <label class="label" for="postal" data-i18n="postalLabel">Code postal</label>
                  <input class="input" id="postal" name="postal" autocomplete="postal-code" required />
                </div>
              </div>

              <h3 class="panel__title" data-i18n="deliveryMethodTitle">Mode de réception</h3>
              <div class="radio-row">
                <label class="radio"><input type="radio" name="delivery" value="ship" checked /><span data-i18n="deliveryShip">Livraison</span></label>
                <label class="radio"><input type="radio" name="delivery" value="pickup" /><span data-i18n="deliveryPickup">Collecte</span></label>
              </div>

              <h3 class="panel__title" data-i18n="paymentTitle">Paiement</h3>
              <div class="radio-row">
                <label class="radio"><input type="radio" name="payment" value="inperson" checked /><span data-i18n="payInPerson">Paiement à la livraison / collecte</span></label>
                <label class="radio"><input type="radio" name="payment" value="card" /><span data-i18n="payCard">Carte (connecter un provider)</span></label>
              </div>

              <div class="notice" data-i18n="paymentNote">
                Paiement carte = Stripe/Shopify/etc. Cette démo crée une commande sans débiter.
              </div>

              <label class="check">
                <input id="terms" type="checkbox" required />
                <span data-i18n="termsLabel">J’accepte les conditions et je confirme respecter l’âge légal requis.</span>
              </label>

              <div class="checkout-actions">
                <button class="btn btn--ghost" type="button" data-nav="shop" data-i18n="backToShop">Retour boutique</button>
                <button id="placeOrder" class="btn btn--primary" type="submit" data-i18n="placeOrder">Passer la commande</button>
              </div>
            </form>

            <aside class="panel summary" aria-label="Order summary">
              <h3 class="panel__title" data-i18n="summaryTitle">Récapitulatif</h3>

              <div id="summaryItems" class="summary-items"></div>

              <div class="summary-line">
                <span data-i18n="subtotal">Sous-total</span>
                <strong id="summarySubtotal">$0.00</strong>
              </div>

              <div class="summary-line muted">
                <span data-i18n="taxesNote">Taxes/livraison calculées plus tard (démo)</span>
                <span></span>
              </div>

              <div class="summary-total">
                <span data-i18n="total">Total</span>
                <strong id="summaryTotal">$0.00</strong>
              </div>

              <button id="openDirectives" class="btn btn--ghost btn--full" type="button" data-i18n="directivesBtn">
                Lire les directives avant achat
              </button>
            </aside>
          </div>
        </div>
      </section>

      <!-- VIEW: THANKS -->
      <section class="view" data-view="thanks" hidden>
        <div class="container thanks">
          <div class="card thanks__card">
            <h2 data-i18n="thanksTitle">Commande confirmée</h2>
            <p class="muted" data-i18n="thanksBody">Merci ! Votre commande a été créée (démo).</p>

            <div class="order-box">
              <span class="muted" data-i18n="orderNumberLabel">Numéro</span>
              <strong id="orderNumber">PREM-000000</strong>
            </div>

            <div class="checkout-actions">
              <button class="btn btn--primary" type="button" data-nav="shop" data-i18n="thanksCta">Continuer</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container footer__inner">
        <p class="footer__brand">Premium</p>
        <p class="muted" data-i18n="footerNote">
          Remplace products.json par ton catalogue. Paiements réels: connecte un provider.
        </p>
      </div>
    </footer>
  </div>

  <!-- CART DRAWER -->
  <div id="backdrop" class="backdrop" hidden></div>
  <aside id="cartDrawer" class="cart" role="dialog" aria-modal="true" aria-label="Cart" aria-hidden="true">
    <div class="cart__head">
      <h3 class="cart__title" data-i18n="cartTitle">Panier</h3>
      <button id="closeCart" class="icon-btn" type="button" aria-label="Close">✕</button>
    </div>

    <div id="cartItems" class="cart__items"></div>

    <div class="cart__foot">
      <div class="cart__line">
        <span data-i18n="subtotal">Sous-total</span>
        <strong id="cartSubtotal">$0.00</strong>
      </div>

      <button id="goCheckout" class="btn btn--primary btn--full" type="button" data-i18n="toCheckout">Aller au paiement</button>
      <button id="clearCart" class="btn btn--ghost btn--full" type="button" data-i18n="clearCart">Vider</button>
    </div>
  </aside>

  <!-- DIRECTIVES MODAL (like “before purchase rules”) -->
  <div id="directivesModal" class="modal" hidden aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="dirTitle">
    <div class="modal__card">
      <div class="modal__head">
        <h3 id="dirTitle" class="modal__title" data-i18n="directivesTitle">Directives avant achat</h3>
        <button id="closeDirectives" class="icon-btn" type="button" aria-label="Close">✕</button>
      </div>

      <div class="modal__body">
        <p class="muted" data-i18n="directivesIntro">
          Tu dois lire et accepter les directives suivantes avant de passer la commande.
        </p>

        <ul class="checklist">
          <li data-i18n="dir1">Âge légal requis dans ta région (auto-déclaration).</li>
          <li data-i18n="dir2">Adresse valide + infos exactes (sinon annulation).</li>
          <li data-i18n="dir3">Aucun remboursement après expédition (sauf politique définie).</li>
          <li data-i18n="dir4">Aucune revente / usage illégal (responsabilité du client).</li>
          <li data-i18n="dir5">Livraison/pickup: une pièce d’identité peut être exigée (si applicable).</li>
          <li data-i18n="dir6">Commande = acceptation des politiques (voir “Policies”).</li>
        </ul>

        <label class="check">
          <input id="directivesAccepted" type="checkbox" />
          <span data-i18n="directivesAccept">J’ai lu et j’accepte ces directives.</span>
        </label>
      </div>

      <div class="modal__foot">
        <button class="btn btn--ghost" id="directivesCancel" type="button" data-i18n="close">Fermer</button>
        <button class="btn btn--primary" id="directivesConfirm" type="button" data-i18n="confirm">Confirmer</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>